<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes da Propriedade</title>
    <link rel="stylesheet" href="../CSS/alugar.css">
</head>
<body>
    <header>
        <div class="menu-icon">
            <img src="logo.png" alt="Logo">
        </div>
        <div class="header-buttons">
            <button class="inicio-button">INICIO</button>
            <button class="alugar-button">ALUGAR</button>
            <button class="contratos-button">CONTRATOS</button>
            <button class="propriedades-button">CADASTRO DE PROPRIEDADES</button>
            <button class="logout-button">SAIR</button>
        </div>
    </header>
    
    <div class="container">
        <h2>Propriedade</h2>
        
        <div class="contract-item">
            <img id="property-image-detail" src="" alt="Imagem da Propriedade">
            <div class="contract h4">
                <h4 id="property-name-detail"></h4>
            </div>
            <p id="property-description-detail"></p>
            <a href="#">Ver Detalhes</a>
        </div>

        <!-- Botão de excluir propriedade -->
        <button id="delete-property" style="background-color: red; color: white; padding: 10px 20px; border: none; cursor: pointer;">Excluir Propriedade</button>
    </div>
    <script src="../JavaScript/paginacao.js"></script>
    <script src="../JavaScript/alugar.js"></script>
    
    <script>
        window.onload = function() {
    // Obter os dados do localStorage
    const name = localStorage.getItem('property-name');
    const description = localStorage.getItem('property-description');
    const image = localStorage.getItem('property-image');

    // Verificar se há dados no localStorage
    if (name && description && image) {
        // Preencher os campos com os dados recuperados
        document.getElementById('property-name-detail').textContent = name;
        document.getElementById('property-description-detail').textContent = description;
        document.getElementById('property-image-detail').src = image;
    } else {
        alert("Nenhuma propriedade cadastrada.");
    }

    // Função para excluir a propriedade
    document.getElementById('delete-property').addEventListener('click', function() {
        const confirmation = confirm("Tem certeza que deseja excluir esta propriedade?");
        
        if (confirmation) {
            // Remover os dados do localStorage
            localStorage.removeItem('property-name');
            localStorage.removeItem('property-description');
            localStorage.removeItem('property-image');
            
            alert("Propriedade excluída com sucesso!");
            
            // Atualizar a página para refletir a exclusão
            document.getElementById('property-name-detail').textContent = '';
            document.getElementById('property-description-detail').textContent = '';
            document.getElementById('property-image-detail').src = '';
        }
    });
};
    </script>
    
</body>
</html>
